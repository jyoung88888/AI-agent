# ì¼ì£¼ AI ì—ì´ì „íŠ¸

ì—”í„°í”„ë¼ì´ì¦ˆê¸‰ ë¬¸ì„œ ë¶„ì„ ë° ì§ˆì˜ì‘ë‹µì„ ìœ„í•œ RAG(ê²€ìƒ‰ ì¦ê°• ìƒì„±) ê¸°ë°˜ ì±—ë´‡ ì‹œìŠ¤í…œìž…ë‹ˆë‹¤.
ê³µê³ ë¬¸, ì‚¬ì—…ê³„íšì„œ ë“± ì •ë¶€ ë¬¸ì„œì˜ í…Œì´ë¸” ì²˜ë¦¬, LLM íŒŒì¸íŠœë‹, í’ˆì§ˆ ê²€ì¦ì„ íŠ¹ì§•ìœ¼ë¡œ í•©ë‹ˆë‹¤.

---

## ðŸŽ¯ ì£¼ìš” ê²½í—˜

### 1ï¸âƒ£ í”„ë¡œí† íƒ€ìž… ì±—ë´‡ ê°œë°œ ë° ê¸°ìˆ  ê²€ì¦

**RAG ì‹œìŠ¤í…œ êµ¬ì¶•**
- FAISS ë²¡í„° ë°ì´í„°ë² ì´ìŠ¤ ê¸°ë°˜ ê²€ìƒ‰ ì¦ê°•
- LangChainì„ í™œìš©í•œ RAG íŒŒì´í”„ë¼ì¸ êµ¬í˜„
- ë‹¤ì–‘í•œ ë¬¸ì„œ í¬ë§· ì§€ì› (PDF, DOCX, HWP)

**í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§**
- MT-Benchë¥¼ í™œìš©í•œ ëª¨ë¸ ê°„ ì„±ëŠ¥ ë¹„êµ
- ì²´ì¸-ì˜¤ë¸Œ-ì†ŒíŠ¸(Chain-of-Thought) í”„ë¡¬í”„íŒ…
- ì—­í•  ê¸°ë°˜ í”„ë¡¬í”„íŠ¸ ìµœì í™” (System Prompt ì„¤ê³„)
- êµ¬ì¡°í™”ëœ ì¶œë ¥ í˜•ì‹ ì„¤ê³„ (JSON, ë§ˆí¬ë‹¤ìš´)

**LLM íŒŒì¸íŠœë‹**
- QLoRAë¥¼ í™œìš©í•œ 4ë¹„íŠ¸ ì–‘ìží™” íš¨ìœ¨ì  í•™ìŠµ
- ë‹¤ì–‘í•œ ëª¨ë¸ í…ŒìŠ¤íŠ¸ (Llama 3.2, EXAONE 2.4B/32B)
- ì¡°ê¸° ì¢…ë£Œ(Early Stopping) ì½œë°± êµ¬í˜„
- í˜¼í•© ì •ë°€ë„(bfloat16) í•™ìŠµìœ¼ë¡œ ë©”ëª¨ë¦¬ ì ˆê°
- ì†ì‹¤ í•¨ìˆ˜ ìµœì í™” (í•™ìŠµ ì†ì‹¤ 40% + ê²€ì¦ ì†ì‹¤ 60%)

**êµ¬í˜„ ê²°ê³¼**
- 4ê°œ ì±—ë´‡ ë²„ì „ ê°œë°œ (v1~v4 ì§„í™”)
- v1: ê¸°ë³¸ RAG ì‹œìŠ¤í…œ
- v3: OpenAI API í†µí•© ê²½ëŸ‰ ë²„ì „
- v4: ì—”í„°í”„ë¼ì´ì¦ˆ ê¸°ëŠ¥ (ë‚ ì”¨ API, ë‹¤ì¤‘ ìž‘ì—… ëª¨ë“œ)

---

### 2ï¸âƒ£ í…Œì´ë¸” ê¸°ë°˜ ë¬¸ì„œ ì²˜ë¦¬ ì„±ëŠ¥ ê°œì„ 

**ë¬¸ì œì **
- ì¼ë°˜ PDF ì¶”ì¶œ: í…Œì´ë¸” êµ¬ì¡° ì†ì‹¤ë¡œ ì •ë³´ í’ˆì§ˆ ì €í•˜
- ì „ì²´ ë¬¸ì„œ ì¼ê´„ ì²˜ë¦¬: ë¶ˆí•„ìš”í•œ ë§¥ë½ í¬í•¨ìœ¼ë¡œ ë²¡í„° DB ë¹„ëŒ€í™”

**í•´ê²° ë°©ì•ˆ: A/B í…ŒìŠ¤íŠ¸**

| ë°©ì‹ | ë„êµ¬ | ë²¡í„° DB í¬ê¸° | íŠ¹ì§• |
|------|------|------------|------|
| **Method 1** | UnstructuredPDF | 716KB | ì „ì²´ ë¬¸ì„œ í†µí•© ì²˜ë¦¬ |
| **Method 2** | pdfplumber | 20KB | í…Œì´ë¸” ë¶„ë¦¬ ì²˜ë¦¬ |
| **Method 3** | prompt ë³€ê²½ | 20KB | prompt ë³€ê²½ |
| **Method 4** | llama index | 20KB | í”„ë ˆìž„ì›Œí¬ ë³€ê²½ê²½ |


**ì„±ê³¼**
- ë²¡í„° DB í¬ê¸° **35ë°° ìµœì í™”** (716KB â†’ 20KB)
- í…Œì´ë¸” êµ¬ì¡° ì •ë³´ ëª…í™•ížˆ ë³´ì¡´
- ë©”íƒ€ë°ì´í„° ê¸°ë°˜ ê²€ìƒ‰ ê²°ê³¼ í•„í„°ë§ ê°€ëŠ¥
- ë©”ëª¨ë¦¬ íš¨ìœ¨ì ì¸ RAG ì‹œìŠ¤í…œ êµ¬ì¶•

---

### 3ï¸âƒ£ LLM ë²¤ì¹˜ë§ˆí‚¹ ë° ëª¨ë¸ ì„ ì •

**í‰ê°€ ì§€í‘œ êµ¬í˜„**

1. **LLM ì„±ëŠ¥ ë¹„êµ**
   - MT-Benchë¥¼ í™œìš©í•œ ëª¨ë¸ ê°„ ì •ì„±ì  í‰ê°€
   - GPT-3.5-turbo vs GPT-4-turbo vs GPT-4o-mini ë¹„êµ
   - ë‹¤ì–‘í•œ ì§ˆë¬¸ ìœ í˜•ì— ëŒ€í•œ ì‘ë‹µ í’ˆì§ˆ í‰ê°€

2. **RAG í‰ê°€ ì§€í‘œ**
   - **Accuracy**: ê²€ìƒ‰ëœ ë¬¸ì„œ ì¤‘ ì •ë‹µ í¬í•¨ ì—¬ë¶€ (60% ë‹¬ì„±)
   - **Context Recall**: ê²€ìƒ‰ ê²°ê³¼ì˜ ê´€ë ¨ ì •ë³´ í¬í•¨ë„ (71.33% ë‹¬ì„±)
   - OpenAI ìž„ë² ë”© ëª¨ë¸(text-embedding-3-large) vs ì˜¤í”ˆì†ŒìŠ¤ ëª¨ë¸ ë¹„êµ

3. **íŒŒì¸íŠœë‹ íš¨ê³¼ ë¶„ì„**
   - íŒŒì¸íŠœë‹ ì „ ì¶”ë¡ (llm_inference.ipynb): ê¸°ë³¸ ëª¨ë¸ ì„±ëŠ¥
   - íŒŒì¸íŠœë‹ í›„ ì¶”ë¡ : ê°œì„ ëœ ì„±ëŠ¥ ì¸¡ì •
   - ì†ì‹¤ í•¨ìˆ˜ ë³€í™” ì¶”ì  (Eval Loss: 1.18 ë‹¬ì„±)

**ë²¤ì¹˜ë§ˆí‚¹ ê²°ê³¼**

| ëª¨ë¸ | ìš©ë„ | íŠ¹ì§• |
|------|------|------|
| Llama 3.2 Korean (3B) | ë¡œì»¬ ì¶”ë¡  | í•œêµ­ì–´ ìµœì í™”, ë¹ ë¥¸ ì†ë„ |
| EXAONE 2.4B | ê²½ëŸ‰ íŒŒì¸íŠœë‹ | íš¨ìœ¨ì , ë‚®ì€ ë©”ëª¨ë¦¬ |
| EXAONE 32B | ê³ ì„±ëŠ¥ íŒŒì¸íŠœë‹ | ë†’ì€ í’ˆì§ˆ, 8% í•™ìŠµ íŒŒë¼ë¯¸í„° |
| GPT-4o-mini | ì§€ì—­ ì¶”ì¶œ | ì •í™•í•œ êµ¬ì¡°í™” ì¶œë ¥ |
| text-embedding-3-large | í•˜ì´ë¸Œë¦¬ë“œ ìž„ë² ë”© | ìš°ìˆ˜í•œ ê²€ìƒ‰ ì„±ëŠ¥ |

**ëª¨ë¸ ì„ ì • ê¸°ì¤€**
- í•œêµ­ì–´ ì„±ëŠ¥
- ë©”ëª¨ë¦¬ íš¨ìœ¨ì„±
- í•™ìŠµ ê°€ëŠ¥ì„± (íŒŒì¸íŠœë‹ ìš©ì´ì„±)
- ë¹„ìš© íš¨ìœ¨ì„±

---

## ðŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Streamlit Frontend UI                     â”‚
â”‚     (iljoo_ai_agent_main.py / ui.py)                â”‚
â”‚  - ë¬¸ì„œ ì—…ë¡œë“œ                                         â”‚
â”‚  - ë‹¤ì¤‘ ìž‘ì—… ëª¨ë“œ (ìš”ì•½/QA/JSON)                     â”‚
â”‚  - ì‹¤ì‹œê°„ ëŒ€í™” ì¸í„°íŽ˜ì´ìŠ¤                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚ HTTP API Calls
                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              FastAPI Backend                         â”‚
â”‚       (api.py / iljoo_ai_agent_main.py)             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Weather API Endpoint                           â”‚ â”‚
â”‚  â”‚ - ì§€ì—­ëª… ì¶”ì¶œ (GPT-4o-mini)                   â”‚ â”‚
â”‚  â”‚ - ê¸°ìƒì²­ API í˜¸ì¶œ                              â”‚ â”‚
â”‚  â”‚ - ë‚ ì”¨ ê¸°ë°˜ ì¶”ì²œ ìƒì„±                          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ RAG Chat Endpoint                              â”‚ â”‚
â”‚  â”‚ - PDF ì—…ë¡œë“œ ë° ì²˜ë¦¬                          â”‚ â”‚
â”‚  â”‚ - í…ìŠ¤íŠ¸ ì²­í‚¹ ë° ìž„ë² ë”©                       â”‚ â”‚
â”‚  â”‚ - ë‹¤ì¤‘ ìž‘ì—… ëª¨ë“œ ì§€ì›                         â”‚ â”‚
â”‚  â”‚ - LangGraph ì›Œí¬í”Œë¡œìš° ì‹¤í–‰                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                              â”‚
    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Local LLM    â”‚          â”‚  OpenAI API    â”‚
    â”‚  Llama 3.2    â”‚          â”‚  GPT-4o-mini   â”‚
    â”‚  (ë¡œì»¬ GPU)    â”‚          â”‚  (í´ë¼ìš°ë“œ)     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   FAISS Vector DB         â”‚
    â”‚  (ë¬¸ì„œ ìž„ë² ë”© ì €ìž¥)         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ“‚ ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
git/
â”œâ”€â”€ README.md                           # í”„ë¡œì íŠ¸ ê°œìš” (ì´ íŒŒì¼)
â”‚
â”œâ”€â”€ chatbot/                            # ì±—ë´‡ êµ¬í˜„ (v1-v4 ì§„í™”)
â”‚   â”œâ”€â”€ chatbot_v1/                    # ê¸°ë³¸ RAG ì‹œìŠ¤í…œ
â”‚   â”‚   â”œâ”€â”€ app.py                    # FastAPI ë°±ì—”ë“œ
â”‚   â”‚   â”œâ”€â”€ ui.py                     # Streamlit í”„ë¡ íŠ¸ì—”ë“œ
â”‚   â”‚   â””â”€â”€ README.md                 # ìƒì„¸ ê¸°ìˆ  ë¬¸ì„œ
â”‚   â”‚
â”‚   â”œâ”€â”€ chatbot_v3(openai)/           # OpenAI API ê²½ëŸ‰ ë²„ì „
â”‚   â”‚   â”œâ”€â”€ app.py                    # FastAPI (ê°„ë‹¨í•œ êµ¬ì¡°)
â”‚   â”‚   â””â”€â”€ ui.py                     # Streamlit UI
â”‚   â”‚
â”‚   â””â”€â”€ chatbot_v4/                   # ì—”í„°í”„ë¼ì´ì¦ˆ ë²„ì „
â”‚       â”œâ”€â”€ api.py                    # ê³ ê¸‰ FastAPI (ë‚ ì”¨ API í†µí•©)
â”‚       â”œâ”€â”€ iljoo_ai_agent_main.py    # ë©”ì¸ UI
â”‚       â”œâ”€â”€ README.md                 # ì™„ì „í•œ ê¸°ìˆ  ë¬¸ì„œ
â”‚       â””â”€â”€ requirements.txt           # ì˜ì¡´ì„± ëª…ì‹œ
â”‚
â”œâ”€â”€ pdf_ab_test/                       # í…Œì´ë¸” ì²˜ë¦¬ A/B í…ŒìŠ¤íŠ¸
â”‚   â”œâ”€â”€ RAG.ipynb                     # ì™„ì „í•œ RAG êµ¬í˜„ (44ê°œ ì…€)
â”‚   â”œâ”€â”€ faiss_unstructuredpdf_vector_db/    # 716KB (Method A)
â”‚   â”œâ”€â”€ pdf_plumber_vector_db/              # 20KB (Method B)
â”‚   â””â”€â”€ raw_data/                    # ì›ë³¸ PDF ë¬¸ì„œ
â”‚
â”œâ”€â”€ fine-tuning/                       # LLM íŒŒì¸íŠœë‹
â”‚   â”œâ”€â”€ llama_fine_tuning_test.ipynb  # EXAONE 2.4B QLoRA
â”‚   â”‚   (ì–‘ìží™” + LoRA, 22.1M í•™ìŠµ íŒŒë¼ë¯¸í„°)
â”‚   â”‚
â”‚   â””â”€â”€ llm_fine_tuning.ipynb         # EXAONE 32B AWQ
â”‚       (ê³ ê¸‰ ì„¤ì •, 92.2M í•™ìŠµ íŒŒë¼ë¯¸í„°)
â”‚
â”œâ”€â”€ eval/                              # í‰ê°€ ë° ë²¤ì¹˜ë§ˆí‚¹
â”‚   â”œâ”€â”€ llm_inference.ipynb           # íŒŒì¸íŠœë‹ ì „í›„ ì¶”ë¡  ë¹„êµ
â”‚   â”‚   (ê¸°ë³¸ ëª¨ë¸ í…ŒìŠ¤íŠ¸ ë° í”„ë¡¬í”„íŠ¸ ìµœì í™”)
â”‚   â”‚
â”‚   â””â”€â”€ rag_eval.ipynb                # RAG ì„±ëŠ¥ í‰ê°€
â”‚       (Accuracy 60%, Context Recall 71.33%)
â”‚
â”œâ”€â”€ prompt_engineering/                # í”„ë¡¬í”„íŠ¸ ìµœì í™”
â”‚   â”œâ”€â”€ prompt_engineering.ipynb       # í”„ë¡¬í”„íŠ¸ í…ŒìŠ¤íŠ¸ ë° ë¹„êµ
â”‚   â”‚   (MT-Bench í™œìš© ëª¨ë¸ ê°„ ì„±ëŠ¥ ë¹„êµ)
â”‚   â”‚
â”‚   â”œâ”€â”€ exercise5.ipynb               # ê³ ê¸‰ í”„ë¡¬í”„íŒ… ê¸°ë²•
â”‚   â”œâ”€â”€ prompt.txt                    # ìµœì í™”ëœ í”„ë¡¬í”„íŠ¸ ì €ìž¥ì†Œ
â”‚   â”œâ”€â”€ dataset_gpt4o-mini(1).json    # í”„ë¡¬í”„íŠ¸ í…ŒìŠ¤íŠ¸ ë°ì´í„°
â”‚   â””â”€â”€ dataset_gpt4o-mini(2).json
â”‚
â””â”€â”€ dataset/                           # í•™ìŠµ ë° í‰ê°€ ë°ì´í„°
    â”œâ”€â”€ raw/                          # ì›ë³¸ ë¬¸ì„œ
    â”‚   â”œâ”€â”€ (2022) ìŠ¤ë§ˆíŠ¸ ì „í†µì‹œìž¥ R&D ì§€ì› ê³µê³ .pdf
    â”‚   â”œâ”€â”€ (2022) ì¤‘ì†Œê¸°ì—… Net-Zero ê¸°ìˆ í˜ì‹  ê³µê³ .pdf
    â”‚   â”œâ”€â”€ 2024 ë‚˜ë¼ì‚´ë¦¼ ì˜ˆì‚°ê°œìš”.pdf
    â”‚   â””â”€â”€ SPRI_AI_Brief_2023ë…„12ì›”í˜¸.pdf
    â”‚
    â””â”€â”€ processed/                    # ì²˜ë¦¬ëœ ë°ì´í„°ì…‹
        â”œâ”€â”€ iljoo_expanded_responses_dataset.jsonl   # 6,115ê°œ ìƒ˜í”Œ
        â”œâ”€â”€ chatbot_dataset2.jsonl
        â”œâ”€â”€ ko_commercial_train.jsonl
        â”œâ”€â”€ one_multi_dataset.jsonl
        â””â”€â”€ SFTlabel_aihub.jsonl
```

---

## ðŸš€ ë¹ ë¥¸ ì‹œìž‘

### 1. í™˜ê²½ ì„¤ì •

```bash
# ì €ìž¥ì†Œ í´ë¡ 
git clone https://github.com/yourusername/iljoo-ai-agent.git
cd iljoo-ai-agent

# í™˜ê²½ ë³€ìˆ˜ ì„¤ì • (.env íŒŒì¼ ìƒì„±)
cat > .env << EOF
OPENAI_API_KEY=your_openai_api_key_here
WEATHER_API_KEY=your_weather_api_key_here
HF_TOKEN=your_huggingface_token_here
EOF

# ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r requirements.txt
```

### 2. ì±—ë´‡ ì‹¤í–‰

#### v1 (ê¸°ë³¸ RAG ì‹œìŠ¤í…œ)
```bash
cd chatbot/chatbot_v1

# ë°±ì—”ë“œ ì‹¤í–‰
uvicorn app:app --reload --port 8000

# ë³„ë„ í„°ë¯¸ë„ì—ì„œ í”„ë¡ íŠ¸ì—”ë“œ ì‹¤í–‰
streamlit run ui.py
```

#### v4 (ì—”í„°í”„ë¼ì´ì¦ˆ ë²„ì „)
```bash
cd chatbot/chatbot_v4

# ë°±ì—”ë“œ ì‹¤í–‰
uvicorn api:app --reload --port 8000

# ë³„ë„ í„°ë¯¸ë„ì—ì„œ í”„ë¡ íŠ¸ì—”ë“œ ì‹¤í–‰
streamlit run iljoo_ai_agent_main.py
```

### 3. ë…¸íŠ¸ë¶ ì‹¤í–‰

```bash
# Jupyter ì‹œìž‘
jupyter notebook

# í‰ê°€ ì‹¤í–‰
# eval/rag_eval.ipynb - RAG ì„±ëŠ¥ í‰ê°€
# eval/llm_inference.ipynb - ëª¨ë¸ ì¶”ë¡  í…ŒìŠ¤íŠ¸

# í”„ë¡¬í”„íŠ¸ ìµœì í™”
# prompt_engineering/prompt_engineering.ipynb
```

---

## ðŸ’¡ í•µì‹¬ ê¸°ìˆ  ìŠ¤íƒ

### LLM & ìž„ë² ë”©
- **ë¡œì»¬ LLM**: Llama 3.2 Korean (3B), EXAONE (2.4B/32B)
- **í´ë¼ìš°ë“œ LLM**: GPT-3.5-turbo, GPT-4-turbo, GPT-4o-mini
- **ìž„ë² ë”© ëª¨ë¸**: BAAI/bge-m3, OpenAI text-embedding-ada-002

### í•µì‹¬ í”„ë ˆìž„ì›Œí¬
- **ë°±ì—”ë“œ**: FastAPI 0.115.6
- **í”„ë¡ íŠ¸ì—”ë“œ**: Streamlit 1.41.1
- **LLM í”„ë ˆìž„ì›Œí¬**: LangChain 0.3.15, LangGraph 0.2.65
- **ë²¡í„° DB**: FAISS (Facebook AI Similarity Search)

### íŒŒì¸íŠœë‹ & ìµœì í™”
- **ê¸°ë²•**: QLoRA (4ë¹„íŠ¸ ì–‘ìží™” + LoRA)
- **ë¼ì´ë¸ŒëŸ¬ë¦¬**: PEFT (Parameter-Efficient Fine-Tuning)
- **ì •ë°€ë„**: bfloat16, Flash Attention 2
- **í•™ìŠµ ìµœì í™”**: AdamW 8-bit, Cosine LR Scheduler

### ë¬¸ì„œ ì²˜ë¦¬
- **PDF ì¶”ì¶œ**: PyMuPDF (fitz), pdfplumber
- **Word ì²˜ë¦¬**: Docx2txt
- **PowerPoint**: python-pptx
- **í…ìŠ¤íŠ¸ ë¶„í• **: RecursiveCharacterTextSplitter, CharacterTextSplitter

### í‰ê°€ ë„êµ¬
- **RAG í‰ê°€**: RAGAS (Context Recall, Faithfulness)
- **LLM í‰ê°€**: MT-Bench (ëª¨ë¸ ê°„ ë¹„êµ)
- **Embedding**: Cosine Similarity, ì •í™•ë„ ê³„ì‚°

---

## ðŸ“Š ì„±ëŠ¥ ì§€í‘œ

### í…Œì´ë¸” ì²˜ë¦¬
| í•­ëª© | ê²°ê³¼ |
|------|------|
| ë²¡í„° DB í¬ê¸° ê°ì†Œ | 716KB â†’ 20KB (35ë°°) |
| í…Œì´ë¸” ë³´ì¡´ë„ | â­â­â­â­â­ (ì™„ë²½) |
| ë©”ëª¨ë¦¬ íš¨ìœ¨ì„± | â­â­â­â­â­ (ìš°ìˆ˜) |

### RAG ì„±ëŠ¥
| ë©”íŠ¸ë¦­ | ê²°ê³¼ |
|--------|------|
| Accuracy | 60.00% |
| Context Recall | 71.33% |
| ê²€ìƒ‰ ìƒìœ„ 3ê°œ | í‰ê·  ê²€ìƒ‰ ì„±ê³µë¥  |

### íŒŒì¸íŠœë‹
| í•­ëª© | ê²°ê³¼ |
|------|------|
| EXAONE 2.4B | ì†ì‹¤: 1.18, í•™ìŠµ íŒŒë¼ë¯¸í„°: 22.1M |
| EXAONE 32B | ì†ì‹¤: 1.18, í•™ìŠµ íŒŒë¼ë¯¸í„°: 92.2M |
| í•™ìŠµ ë°ì´í„° | 6,115ê°œ ìƒ˜í”Œ (80% í›ˆë ¨, 20% ê²€ì¦) |

---

## ðŸ“ˆ ê°œë°œ ì—¬ì •

### Phase 1: ê¸°ë³¸ RAG ì‹œìŠ¤í…œ (v1-v2)
- âœ… FAISS ë²¡í„° DB ê¸°ë°˜ ê²€ìƒ‰
- âœ… LangChain RAG íŒŒì´í”„ë¼ì¸
- âœ… í•œêµ­ì–´ ìµœì í™” LLM (Llama 3.2)
- âœ… ë‹¤ì¤‘ ë¬¸ì„œ í¬ë§· ì§€ì›

### Phase 2: ê²½ëŸ‰í™” ë° API í†µí•© (v3)
- âœ… OpenAI API í†µí•©
- âœ… ê°„ë‹¨í•œ ì±—ë´‡ êµ¬í˜„
- âœ… ìµœì†Œ ë©”ëª¨ë¦¬ êµ¬ì„±

### Phase 3: ì—”í„°í”„ë¼ì´ì¦ˆ ê¸°ëŠ¥ (v4)
- âœ… ë‚ ì”¨ API í†µí•©
- âœ… ë‹¤ì¤‘ ìž‘ì—… ëª¨ë“œ (ìš”ì•½/QA/JSON)
- âœ… LangGraph ì›Œí¬í”Œë¡œìš°
- âœ… ê³ ê¸‰ í’ˆì§ˆ ê²€ì¦

### Phase 4: ìµœì í™” & í‰ê°€
- âœ… í…Œì´ë¸” ì²˜ë¦¬ A/B í…ŒìŠ¤íŠ¸ (35ë°° ìµœì í™”)
- âœ… LLM íŒŒì¸íŠœë‹ (QLoRA)
- âœ… RAG í‰ê°€ ì§€í‘œ êµ¬í˜„
- âœ… ë²¤ì¹˜ë§ˆí‚¹ ë° ëª¨ë¸ ì„ ì •

---

## ðŸ”§ ì£¼ìš” ê¸°ëŠ¥ë³„ êµ¬í˜„ ìƒì„¸

### RAG ì‹œìŠ¤í…œ
```python
# ë¬¸ì„œ ê²€ìƒ‰
retriever = vectorstore.as_retriever(search_kwargs={"k": 3})

# RAG ì²´ì¸
rag_chain = (
    {"context": retriever | format_docs, "question": RunnablePassthrough()}
    | prompt
    | llm
    | StrOutputParser()
)
```

### ë¬¸ì„œ í‰ê°€ (LangGraph)
```python
# ê²€ìƒ‰ëœ ë¬¸ì„œì˜ ê´€ë ¨ì„± í‰ê°€
class GradeDocuments(BaseModel):
    binary_score: str = Field(description="Relevant or Not Relevant")

# í• ë£¨ì‹œë„¤ì´ì…˜ ê°ì§€
class GradeHallucinations(BaseModel):
    binary_score: str = Field(description="Supported or Not Supported")
```

### íŒŒì¸íŠœë‹ (QLoRA)
```python
# 4ë¹„íŠ¸ ì–‘ìží™” ì„¤ì •
quant_config = BitsAndBytesConfig(
    load_in_4bit=True,
    bnb_4bit_quant_type="nf4",
    bnb_4bit_compute_dtype=torch.bfloat16
)

# LoRA ì„¤ì •
peft_config = LoraConfig(
    r=64,
    lora_alpha=128,
    target_modules=["q_proj", "v_proj", "k_proj"]
)
```

---

## ðŸ¤ ì£¼ìš” íŠ¹ì§•

### ðŸŽ¯ ì™„ì„±ë„
- âœ… 4ê°œ ë²„ì „ì˜ ì±—ë´‡ êµ¬í˜„
- âœ… A/B í…ŒìŠ¤íŠ¸ ê¸°ë°˜ ìµœì í™”
- âœ… ì™„ì „í•œ í‰ê°€ í”„ë ˆìž„ì›Œí¬
- âœ… ìƒì„¸í•œ ê¸°ìˆ  ë¬¸ì„œ

### ðŸ” ê¸°ìˆ  ê¹Šì´
- âœ… RAG ì‹œìŠ¤í…œ ì „ì²´ êµ¬í˜„
- âœ… LLM íŒŒì¸íŠœë‹ (ì–‘ìží™” + LoRA)
- âœ… LangGraph ì›Œí¬í”Œë¡œìš°
- âœ… ë‹¤ë‹¨ê³„ í’ˆì§ˆ ê²€ì¦

### ðŸ“Š ì‹¤ìš©ì„±
- âœ… ì‹¤ì œ ì •ë¶€ ë¬¸ì„œ ì²˜ë¦¬
- âœ… í”„ë¡œë•ì…˜ê¸‰ API ì„¤ê³„
- âœ… ì‹¤ì‹œê°„ ì™¸ë¶€ API í†µí•©
- âœ… ë©”ëª¨ë¦¬ íš¨ìœ¨ì  êµ¬í˜„

### ðŸ’¡ í˜ì‹ ì„±
- âœ… í…Œì´ë¸” ì¸ì‹ PDF ì²˜ë¦¬ (35ë°° ìµœì í™”)
- âœ… ë™ì  ë¼ìš°íŒ… ê¸°ë°˜ ì ì‘í˜• RAG
- âœ… ë‹¤ì¤‘ ìž‘ì—… ëª¨ë“œ ì§€ì›
- âœ… í• ë£¨ì‹œë„¤ì´ì…˜ ê°ì§€ ë©”ì»¤ë‹ˆì¦˜

---

## ðŸ“š ê° ì„¹ì…˜ ìƒì„¸ ê°€ì´ë“œ

### chatbot/
- **v1**: ê¸°ë³¸ RAG ì‹œìŠ¤í…œì˜ í•µì‹¬ êµ¬í˜„
  - FastAPI + Streamlit êµ¬ì¡°
  - FAISS + LangChain í†µí•©
  - ìƒì„¸ README.md í¬í•¨

- **v3**: OpenAI API ê²½ëŸ‰ ë²„ì „
  - ë¹ ë¥¸ í”„ë¡œí† íƒ€ìž… ê°œë°œìš©
  - ìµœì†Œ ë©”ëª¨ë¦¬ ì‚¬ìš©

- **v4**: ì—”í„°í”„ë¼ì´ì¦ˆ ê¸°ëŠ¥
  - ê¸°ìƒì²­ ë‚ ì”¨ API í†µí•©
  - ë‹¤ì¤‘ ìž‘ì—… ëª¨ë“œ
  - ì™„ì „í•œ ê¸°ìˆ  ë¬¸ì„œ

### pdf_ab_test/
- RAG.ipynb: 44ê°œ ì…€ì˜ ì™„ì „í•œ êµ¬í˜„
  - 2ê°€ì§€ PDF ì²˜ë¦¬ ë°©ì‹ ë¹„êµ
  - ë¬¸ì„œ í‰ê°€ ë° í• ë£¨ì‹œë„¤ì´ì…˜ ê°ì§€
  - LangGraph ê¸°ë°˜ ì›Œí¬í”Œë¡œìš°

### fine-tuning/
- llama_fine_tuning_test.ipynb
  - EXAONE 2.4B íŒŒì¸íŠœë‹
  - QLoRA ì„¤ì • ë° ìµœì í™”

- llm_fine_tuning.ipynb
  - EXAONE 32B ê³ ê¸‰ ì„¤ì •
  - ê³ ì„±ëŠ¥ í•™ìŠµ

### eval/
- llm_inference.ipynb: ëª¨ë¸ í…ŒìŠ¤íŠ¸
- rag_eval.ipynb: RAG ì„±ëŠ¥ í‰ê°€

### prompt_engineering/
- í”„ë¡¬í”„íŠ¸ ìµœì í™” ë° ë²¤ì¹˜ë§ˆí‚¹
- MT-Bench í™œìš© ëª¨ë¸ ë¹„êµ

### dataset/
- 6,115ê°œ í•™ìŠµ ìƒ˜í”Œ
- ì‹¤ì œ ì •ë¶€ ê³µê³ ë¬¸ ë°ì´í„°

---

## ðŸŽ“ í•™ìŠµ ê°€ì¹˜

### ì‹œìŠ¤í…œ ì„¤ê³„
- FastAPI ë°±ì—”ë“œ ì„¤ê³„
- Streamlit UI êµ¬í˜„
- ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ íŒ¨í„´

### LLM ê¸°ìˆ 
- RAG íŒŒì´í”„ë¼ì¸ êµ¬ì¶•
- í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§
- ëª¨ë¸ íŒŒì¸íŠœë‹ (QLoRA)

### AI/ML ì‹¤ë¬´
- ë²¡í„° ë°ì´í„°ë² ì´ìŠ¤ í™œìš©
- ëª¨ë¸ í‰ê°€ ì§€í‘œ
- A/B í…ŒìŠ¤íŠ¸ ì„¤ê³„

### ë¬¸ì„œ ì²˜ë¦¬
- PDF í…Œì´ë¸” ì¶”ì¶œ
- êµ¬ì¡°í™”ëœ ë°ì´í„° ìƒì„±
- ë©”íƒ€ë°ì´í„° ê´€ë¦¬


*ìµœì¢… ì—…ë°ì´íŠ¸: 2024ë…„ 12ì›”*
